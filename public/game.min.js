!function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){var n=e.map(function(e){var n=e.name,t=e.code,i=void 0===t?"":t,a=new Blob(["define(function (require, exports, module) {"+i+"});"]);return r({},n,URL.createObjectURL(a))}),t={map:{"*":Object.assign.apply(null,[].concat(n))}};requirejs(t,[e[0].name],function(){l.dispatchEvent(new Event("load"))})}var a=t(1),o=t(5),u=t(6),l=new a;l.on=l.addEventListener,l.once=function(e,n,t){return l.on(e,function r(){for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];n.apply(this,i),l.removeEventListener(e,r)},t)},document.documentElement.style.height=document.documentElement.style.width=document.body.style.height=document.body.style.width="100%",document.body.style.margin=0,document.body.style.overflow="hidden";var c=document.createElement("canvas");c.style.width=c.style.height="100%",document.body.appendChild(c),l.once("canvaschange",function(){return c.parentNode.removeChild(c)}),l.setCanvas=function(e){l.canvas=e;var n=function(e){var n=e.width,t=e.height;return l.parent&&l.parent.emit("resize",{width:n,height:t})},t=u(e,["width","height"],function(){return n(e)});l.once("canvaschange",t),e.style.width="100%",e.style.height="100%",n(e)},Object.defineProperty(l,"canvas",{configurable:!0,enumerable:!0,get:function(){return c},set:function(e){l.dispatchEvent(new Event("canvaschange")),c=e}});var s=addEventListener;window.addEventListener=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return"message"===n[0]&&"function"==typeof n[1]&&!function(){var e=n[1];n[1]=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];var i=t[0],a=i.data,o=i.source;return o===parent&&(t[0]={origin:"*",data:a,source:o}),e.apply(window,t)}}(),s.apply(window,n)};var f=new o.Model({size:function(){return{width:c.width,height:c.height}}});f.then(function(e){l.parent=e,i(e.model.files)}),window.Hack=l},function(e,n,t){"use strict";var r=t(2),i=t(3),a=t(4),o=r.LISTENERS,u=r.CAPTURE,l=r.BUBBLE,c=r.ATTRIBUTE,s=r.newNode,f=i.defineCustomEventTarget,d=a.createEventWrapper,h=a.STOP_IMMEDIATE_PROPAGATION_FLAG,p="undefined"!=typeof window&&"undefined"!=typeof window.EventTarget,v=e.exports=function m(){if(!(this instanceof m)){if(1===arguments.length&&Array.isArray(arguments[0]))return f(m,arguments[0]);if(arguments.length>0){for(var e=Array(arguments.length),n=0;n<arguments.length;++n)e[n]=arguments[n];return f(m,e)}throw new TypeError("Cannot call a class as a function")}Object.defineProperty(this,o,{value:Object.create(null)})};v.prototype=Object.create((p?window.EventTarget:Object).prototype,{constructor:{value:v,writable:!0,configurable:!0},addEventListener:{value:function(e,n,t){if(null==n)return!1;if("function"!=typeof n&&"object"!=typeof n)throw new TypeError('"listener" is not an object.');var r=t?u:l,i=this[o][e];if(null==i)return this[o][e]=s(n,r),!0;for(var a=null;null!=i;){if(i.listener===n&&i.kind===r)return!1;a=i,i=i.next}return a.next=s(n,r),!0},configurable:!0,writable:!0},removeEventListener:{value:function(e,n,t){if(null==n)return!1;for(var r=t?u:l,i=null,a=this[o][e];null!=a;){if(a.listener===n&&a.kind===r)return null==i?this[o][e]=a.next:i.next=a.next,!0;i=a,a=a.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(e){var n=this[o][e.type];if(null==n)return!0;for(var t=d(e,this);null!=n&&("function"==typeof n.listener?n.listener.call(this,t):n.kind!==c&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(t),!t[h]);)n=n.next;return!t.defaultPrevented},configurable:!0,writable:!0}})},function(e,n){"use strict";var t=n.createUniqueKey="undefined"!=typeof Symbol?Symbol:function(e){return"[["+e+"_"+Math.random().toFixed(8).slice(2)+"]]"};n.LISTENERS=t("listeners"),n.CAPTURE=1,n.BUBBLE=2,n.ATTRIBUTE=3,n.newNode=function(e,n){return{listener:e,kind:n,next:null}}},function(e,n,t){"use strict";function r(e,n){for(var t=e[o][n];null!=t;){if(t.kind===u)return t.listener;t=t.next}return null}function i(e,n,t){"function"!=typeof t&&"object"!=typeof t&&(t=null);for(var r=null,i=e[o][n];null!=i;)i.kind===u?null==r?e[o][n]=i.next:r.next=i.next:r=i,i=i.next;null!=t&&(null==r?e[o][n]=l(t,u):r.next=l(t,u))}var a=t(2),o=a.LISTENERS,u=a.ATTRIBUTE,l=a.newNode;n.defineCustomEventTarget=function(e,n){function t(){e.call(this)}var a={constructor:{value:t,configurable:!0,writable:!0}};return n.forEach(function(e){a["on"+e]={get:function(){return r(this,e)},set:function(n){i(this,e,n)},configurable:!0,enumerable:!0}}),t.prototype=Object.create(e.prototype,a),t}},function(e,n,t){"use strict";var r=t(2).createUniqueKey,i=r("stop_immediate_propagation_flag"),a=r("canceled_flag"),o=r("original_event"),u=Object.freeze({stopPropagation:Object.freeze({value:function(){var e=this[o];"function"==typeof e.stopPropagation&&e.stopPropagation()},writable:!0,configurable:!0}),stopImmediatePropagation:Object.freeze({value:function(){this[i]=!0;var e=this[o];"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()},writable:!0,configurable:!0}),preventDefault:Object.freeze({value:function(){this.cancelable===!0&&(this[a]=!0);var e=this[o];"function"==typeof e.preventDefault&&e.preventDefault()},writable:!0,configurable:!0}),defaultPrevented:Object.freeze({get:function(){return this[a]},enumerable:!0,configurable:!0})});n.STOP_IMMEDIATE_PROPAGATION_FLAG=i,n.createEventWrapper=function(e,n){var t="number"==typeof e.timeStamp?e.timeStamp:Date.now(),r={type:{value:e.type,enumerable:!0},target:{value:n,enumerable:!0},currentTarget:{value:n,enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:Boolean(e.bubbles),enumerable:!0},cancelable:{value:Boolean(e.cancelable),enumerable:!0},timeStamp:{value:t,enumerable:!0},isTrusted:{value:!1,enumerable:!0}};return r[i]={value:!1,writable:!0},r[a]={value:!1,writable:!0},r[o]={value:e},"undefined"!=typeof e.detail&&(r.detail={value:e.detail,enumerable:!0}),Object.create(Object.create(e,u),r)}},function(e,n,t){/**
	 * postmate - A powerful, simple, promise-based postMessage library
	 * @version v1.0.2
	 * @link https://github.com/dollarshaveclub/postmate
	 * @author Jacob Kelley <jakie8@gmail.com>
	 * @license MIT */
!function(n,t){e.exports=t()}(this,function(){"use strict";function e(){var e;s.debug&&(e=console).log.apply(e,arguments)}function n(e){var n=document.createElement("a");return n.href=e,n.origin}function t(e,n){return e.origin===n&&"object"===i(e.data)&&"postmate"in e.data&&e.data.type===u}function r(e,n){var t="function"==typeof e[n]?e[n]():e[n];return s.Promise.resolve(t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),u="application/x-postmate-v1+json",l=function(){function n(t){var r=this;a(this,n),this.parent=t.parent,this.frame=t.frame,this.child=t.child,this.childOrigin=t.childOrigin,this.events={},e("Parent: Registering API"),e("Parent: Awaiting messages..."),this.listener=function(n){var t=((n||{}).data||{}).value||{},i=t.data,a=t.name;"emit"===n.data.postmate&&(e("Parent: Received event emission: "+a),a in r.events&&r.events[a].call(r,i))},this.parent.addEventListener("message",this.listener,!1),e("Parent: Awaiting event emissions from Child")}return o(n,[{key:"get",value:function(e){var n=this;return new s.Promise(function(t){var r=(new Date).getTime(),i=function a(e){e.data.uid===r&&"reply"===e.data.postmate&&(n.parent.removeEventListener("message",a,!1),t(e.data.value))};parent.addEventListener("message",i,!1),n.child.postMessage({postmate:"request",type:u,property:e,uid:r},n.childOrigin)})}},{key:"on",value:function(e,n){this.events[e]=n}},{key:"destroy",value:function(){e("Parent: Destroying Postmate instance"),window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}]),n}(),c=function(){function n(i){var o=this;a(this,n),this.model=i.model,this.parent=i.parent,this.parentOrigin=i.parentOrigin,this.child=i.child,e("Child: Registering API"),e("Child: Awaiting messages..."),this.child.addEventListener("message",function(n){if(t(n,o.parentOrigin)){e("Child: Received request",n.data);var i=n.data,a=i.property,l=i.uid;r(o.model,a).then(function(e){return n.source.postMessage({property:a,postmate:"reply",type:u,uid:l,value:e},n.origin)})}})}return o(n,[{key:"emit",value:function(n,t){e('Child: Emitting Event "'+n+'"',t),this.parent.postMessage({postmate:"emit",type:u,value:{name:n,data:t}},this.parentOrigin)}}]),n}(),s=function(){function r(e){a(this,r);var n=e.container,t=e.url,i=e.model;return this.parent=window,this.frame=document.createElement("iframe"),(n||document.body).appendChild(this.frame),this.child=this.frame.contentWindow,this.model=i||{},this.sendHandshake(t)}return o(r,[{key:"sendHandshake",value:function(i){var a=this,o=n(i);return new r.Promise(function(n,r){var c=function s(i){return!!t(i,o)&&("handshake-reply"===i.data.postmate?(e("Parent: Received handshake reply from Child"),a.parent.removeEventListener("message",s,!1),a.childOrigin=i.origin,e("Parent: Saving Child origin",a.childOrigin),n(new l(a))):(e("Parent: Invalid handshake reply"),r("Failed handshake")))};a.parent.addEventListener("message",c,!1),a.frame.onload=function(){e("Parent: Sending handshake"),a.child.postMessage({postmate:"handshake",type:u,model:a.model},o)},e("Parent: Loading frame"),a.frame.src=i})}}]),r}();return s.debug=!1,s.Promise=window.Promise,s.Model=function(){function n(e){return a(this,n),this.child=window,this.model=e,this.parent=this.child.parent,this.sendHandshakeReply()}return o(n,[{key:"sendHandshakeReply",value:function(){var n=this;return new s.Promise(function(t,r){var i=function a(i){if("handshake"===i.data.postmate){e("Child: Received handshake from Parent"),n.child.removeEventListener("message",a,!1),e("Child: Sending handshake reply to Parent"),i.source.postMessage({postmate:"handshake-reply",type:u},i.origin),n.parentOrigin=i.origin;var o=i.data.model;if(o){for(var l=Object.keys(o),s=0;s<l.length;s++)o.hasOwnProperty(l[s])&&(n.model[l[s]]=o[l[s]]);e("Child: Inherited and extended model from Parent")}return e("Child: Saving Parent origin",n.parentOrigin),t(new c(n))}return r("Handshake Reply Failed")};n.child.addEventListener("message",i,!1)})}}]),n}(),s})},function(e,n,t){"use strict";var r=t(7);e.exports=function(e,n,t){var i=n.map(function(n){return function(){return e[n]}}),a=function(){return i.map(function(e){return e()})},o=!1,u=a();return r(function l(){if(!o){var e=a();e.every(function(e,n){return e===u[n]})||t(u),u=e,r(l)}}),function(){return o=!0}}},function(e,n,t){(function(n){for(var r=t(8),i="undefined"==typeof window?n:window,a=["moz","webkit"],o="AnimationFrame",u=i["request"+o],l=i["cancel"+o]||i["cancelRequest"+o],c=0;!u&&c<a.length;c++)u=i[a[c]+"Request"+o],l=i[a[c]+"Cancel"+o]||i[a[c]+"CancelRequest"+o];if(!u||!l){var s=0,f=0,d=[],h=1e3/60;u=function(e){if(0===d.length){var n=r(),t=Math.max(0,h-(n-s));s=t+n,setTimeout(function(){var e=d.slice(0);d.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(s)}catch(t){setTimeout(function(){throw t},0)}},Math.round(t))}return d.push({handle:++f,callback:e,cancelled:!1}),f},l=function(e){for(var n=0;n<d.length;n++)d[n].handle===e&&(d[n].cancelled=!0)}}e.exports=function(e){return u.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(){i.requestAnimationFrame=u,i.cancelAnimationFrame=l}}).call(n,function(){return this}())},function(e,n,t){(function(n){(function(){var t,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof n&&null!==n&&n.hrtime?(e.exports=function(){return(t()-i)/1e6},r=n.hrtime,t=function(){var e;return e=r(),1e9*e[0]+e[1]},i=t()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(n,t(9))},function(e,n){function t(e){if(l===setTimeout)return setTimeout(e,0);try{return l(e,0)}catch(n){try{return l.call(null,e,0)}catch(n){return l.call(this,e,0)}}}function r(e){if(c===clearTimeout)return clearTimeout(e);try{return c(e)}catch(n){try{return c.call(null,e)}catch(n){return c.call(this,e)}}}function i(){h&&f&&(h=!1,f.length?d=f.concat(d):p=-1,d.length&&a())}function a(){if(!h){var e=t(i);h=!0;for(var n=d.length;n;){for(f=d,d=[];++p<n;)f&&f[p].run();p=-1,n=d.length}f=null,h=!1,r(e)}}function o(e,n){this.fun=e,this.array=n}function u(){}var l,c,s=e.exports={};!function(){try{l=setTimeout}catch(e){l=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(e){c=function(){throw new Error("clearTimeout is not defined")}}}();var f,d=[],h=!1,p=-1;s.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];d.push(new o(e,n)),1!==d.length||h||t(a)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=u,s.addListener=u,s.once=u,s.off=u,s.removeListener=u,s.removeAllListeners=u,s.emit=u,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}}]);